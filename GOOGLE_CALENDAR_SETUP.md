# Google Calendar Integration Setup

## ะะฑะทะพั

ะัะธะปะพะถะตะฝะธะต ะธะฝัะตะณัะธััะตััั ั Google Calendar ัะตัะตะท MCP (Model Context Protocol) ัะตัะฒะตั, ะฟัะตะดะพััะฐะฒะปัั Claude ะดะพัััะฟ ะบ ะฒะฐัะตะผั ะบะฐะปะตะฝะดะฐัั.

## ะัััััะน ััะฐัั

### 1. ะะพะปััะธัะต OAuth 2.0 credentials

1. ะะตัะตะนะดะธัะต ะฒ [Google Cloud Console](https://console.cloud.google.com/apis/credentials)
2. ะกะพะทะดะฐะนัะต ะฝะพะฒัะน ะฟัะพะตะบั ะธะปะธ ะฒัะฑะตัะธัะต ัััะตััะฒัััะธะน
3. ะะบะปััะธัะต **Google Calendar API**:
   - ะะตัะตะนะดะธัะต ะฒ "APIs & Services" > "Library"
   - ะะฐะนะดะธัะต "Google Calendar API"
   - ะะฐะถะผะธัะต "Enable"
4. ะกะพะทะดะฐะนัะต OAuth 2.0 credentials:
   - ะะตัะตะนะดะธัะต ะฒ "APIs & Services" > "Credentials"
   - ะะฐะถะผะธัะต "Create Credentials" > "OAuth client ID"
   - ะัะฑะตัะธัะต "Desktop app" ะบะฐะบ ัะธะฟ ะฟัะธะปะพะถะตะฝะธั
   - ะกะบะฐัะฐะนัะต JSON ัะฐะนะป
5. ะะตัะตะธะผะตะฝัะนัะต ัะบะฐัะฐะฝะฝัะน ัะฐะนะป ะฒ `google-calendar-credentials.json`
6. ะะพะผะตััะธัะต ะตะณะพ ะฒ `server/google-calendar-credentials.json`

### 2. ะะฒัะพัะธะทัะนัะต ะฟัะธะปะพะถะตะฝะธะต

ะะฐะฟัััะธัะต ัะบัะธะฟั ะฐะฒัะพัะธะทะฐัะธะธ:

```bash
./authorize-google-calendar.sh
```

ะกะบัะธะฟั:
- ะกะพะฑะตัะตั MCP ัะตัะฒะตั
- ะะฐะฟัััะธั ะฟัะพัะตัั OAuth ะฐะฒัะพัะธะทะฐัะธะธ
- ะัะบัะพะตั ะฑัะฐัะทะตั ะดะปั ะฟะพะดัะฒะตัะถะดะตะฝะธั ะดะพัััะฟะฐ
- ะกะพััะฐะฝะธั ัะพะบะตะฝั ะฒ `server/tokens/`

ะะพัะปะต ััะฟะตัะฝะพะน ะฐะฒัะพัะธะทะฐัะธะธ ะฒั ัะฒะธะดะธัะต:
```
โ Authorization successful! Tokens saved to server/tokens/
```

### 3. ะะตัะตัะพะฑะตัะธัะต Docker ะบะพะฝัะตะนะฝะตั

ะะพัะปะต ะฐะฒัะพัะธะทะฐัะธะธ ะฟะตัะตัะพะฑะตัะธัะต ะบะพะฝัะตะนะฝะตั ั ัะพะบะตะฝะฐะผะธ:

```bash
docker-compose down
docker-compose build server
docker-compose up -d
```

## ะะพัััะฟะฝัะต ะฒะพะทะผะพะถะฝะพััะธ

ะะพัะปะต ะฝะฐัััะพะนะบะธ Claude ัะผะพะถะตั:

### ๐ ะัะพัะผะฐััะธะฒะฐัั ัะพะฑััะธั
- "ะงัะพ ั ะผะตะฝั ะทะฐะฟะปะฐะฝะธัะพะฒะฐะฝะพ ะฝะฐ ะทะฐะฒััะฐ?"
- "ะะพะบะฐะถะธ ะผะพะธ ะฒัััะตัะธ ะฝะฐ ัะปะตะดัััะตะน ะฝะตะดะตะปะต"
- "ะะฐะบะธะต ั ะผะตะฝั ะฟะปะฐะฝั ะฝะฐ 18 ะดะตะบะฐะฑัั?"

### โ ะกะพะทะดะฐะฒะฐัั ัะพะฑััะธั
- "ะกะพะทะดะฐะน ะฒัััะตัั 'ะะฑะตะด ั ะบะพะผะฐะฝะดะพะน' ะทะฐะฒััะฐ ะฒ 13:00"
- "ะะพะฑะฐะฒั ัะพะฑััะธะต 'ะขัะตะฝะธัะพะฒะบะฐ' ะฝะฐ ะฟััะฝะธัั 18:00-19:30"

### โ๏ธ ะะฑะฝะพะฒะปััั ัะพะฑััะธั
- "ะะตัะตะฝะตัะธ ะฒัััะตัั ั ID xxx ะฝะฐ ะดััะณะพะต ะฒัะตะผั"
- "ะะทะผะตะฝะธ ะพะฟะธัะฐะฝะธะต ัะพะฑััะธั"

### ๐๏ธ ะฃะดะฐะปััั ัะพะฑััะธั
- "ะฃะดะฐะปะธ ัะพะฑััะธะต ั ID xxx"

## ะกัััะบัััะฐ ัะฐะนะปะพะฒ

```
server/
  โโโ google-calendar-credentials.json  # OAuth 2.0 credentials (ะฝะต ะฒ git)
  โโโ tokens/                           # OAuth tokens (ะฝะต ะฒ git)
      โโโ .gitignore
      โโโ StoredCredential              # ะกะพะทะดะฐะตััั ะฟะพัะปะต ะฐะฒัะพัะธะทะฐัะธะธ
```

## Troubleshooting

### "Please open the following address in your browser"

ะญัะพ ะพะทะฝะฐัะฐะตั, ััะพ Google Calendar ะฝะต ะฐะฒัะพัะธะทะพะฒะฐะฝ. ะะฐะฟัััะธัะต `./authorize-google-calendar.sh`.

### ะขะพะบะตะฝั ะธััะตะบะปะธ

ะัะพััะพ ะทะฐะฟัััะธัะต `./authorize-google-calendar.sh` ัะฝะพะฒะฐ ะธ ะฟะตัะตัะพะฑะตัะธัะต ะบะพะฝัะตะนะฝะตั.

### ะะฐะปะตะฝะดะฐัั ะฝะต ัะฐะฑะพัะฐะตั ะฒ Docker

ะฃะฑะตะดะธัะตัั ััะพ:
1. ะขะพะบะตะฝั ัะพะทะดะฐะฝั ะปะพะบะฐะปัะฝะพ
2. Docker ะบะพะฝัะตะนะฝะตั ะฟะตัะตัะพะฑัะฐะฝ ะฟะพัะปะต ัะพะทะดะฐะฝะธั ัะพะบะตะฝะพะฒ
3. ะคะฐะนะปั ัะบะพะฟะธัะพะฒะฐะฝั ะฒ ะพะฑัะฐะท (ะฟัะพะฒะตัััะต Dockerfile.server)

## ะะตะทะพะฟะฐัะฝะพััั

โ๏ธ **ะะฐะถะฝะพ**:
- `google-calendar-credentials.json` ะธ `tokens/` ัะพะดะตัะถะฐั ััะฒััะฒะธัะตะปัะฝัะต ะดะฐะฝะฝัะต
- ะะฝะธ ะฒะบะปััะตะฝั ะฒ `.gitignore` ะธ ะฝะต ะดะพะปะถะฝั ะฟะพะฟะฐะดะฐัั ะฒ git
- ะะต ะดะตะปะธัะตัั ััะธะผะธ ัะฐะนะปะฐะผะธ
- ะะปั ะบะฐะถะดะพะณะพ ะพะบััะถะตะฝะธั (dev/prod) ะธัะฟะพะปัะทัะนัะต ะพัะดะตะปัะฝัะต credentials

## ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโ         โโโโโโโโโโโโโโโโโ         โโโโโโโโโโโโโโโโโโโโ
โ  Claude  โโโโโโโโโโถโ Ktor Server   โโโโโโโโโโถโ   MCP Server     โ
โ   API    โ         โ (ClaudeApi    โ  stdio  โ (Google Calendar)โ
โ          โ         โ  Service)     โ         โ                  โ
โโโโโโโโโโโโ         โโโโโโโโโโโโโโโโโ         โโโโโโโโโโโโโโโโโโโโ
                             โ                           โ
                             โ                           โผ
                             โ                  โโโโโโโโโโโโโโโโโโโโ
                             โ                  โ Google Calendar  โ
                             โ                  โ      API         โ
                             โ                  โโโโโโโโโโโโโโโโโโโโ
                             โผ
                     โโโโโโโโโโโโโโโโโโ
                     โ  WebSocket     โ
                     โ  Client (Web)  โ
                     โโโโโโโโโโโโโโโโโโ
```

1. **ะะพะปัะทะพะฒะฐัะตะปั** ะพัะฟัะฐะฒะปัะตั ัะพะพะฑัะตะฝะธะต ัะตัะตะท WebSocket
2. **Ktor Server** ะฟะพะปััะฐะตั ัะพะพะฑัะตะฝะธะต ะธ ะพัะฟัะฐะฒะปัะตั ะตะณะพ Claude API ั MCP tools
3. **Claude API** ะฐะฝะฐะปะธะทะธััะตั ะทะฐะฟัะพั ะธ ะฒัะทัะฒะฐะตั MCP tools ะตัะปะธ ะฝัะถะตะฝ ะบะฐะปะตะฝะดะฐัั
4. **MCP Server** ะฒัะฟะพะปะฝัะตั ะทะฐะฟัะพัั ะบ Google Calendar API
5. **ะะตะทัะปััะฐั** ะฒะพะทะฒัะฐัะฐะตััั ะฟะพะปัะทะพะฒะฐัะตะปั ัะตัะตะท WebSocket

## MCP Protocol

ะัะธะปะพะถะตะฝะธะต ะธัะฟะพะปัะทัะตั [Model Context Protocol](https://modelcontextprotocol.io/) ะดะปั ะธะฝัะตะณัะฐัะธะธ ั Claude. MCP ะฟะพะทะฒะพะปัะตั Claude ะธัะฟะพะปัะทะพะฒะฐัั ะฒะฝะตัะฝะธะต ะธะฝััััะผะตะฝัั ัะตัะตะท ััะฐะฝะดะฐััะธะทะธัะพะฒะฐะฝะฝัะน ะฟัะพัะพะบะพะป.

### ะะพัััะฟะฝัะต MCP tools:

- `list_events` - ะฟะพะปััะธัั ัะฟะธัะพะบ ัะพะฑััะธะน
- `create_event` - ัะพะทะดะฐัั ะฝะพะฒะพะต ัะพะฑััะธะต
- `update_event` - ะพะฑะฝะพะฒะธัั ัััะตััะฒัััะตะต ัะพะฑััะธะต
- `delete_event` - ัะดะฐะปะธัั ัะพะฑััะธะต
